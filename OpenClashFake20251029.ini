optimized_ini_content = """[custom]
; ====== OpenClash ç²¾ç®€ä¼˜åŒ–è®¢é˜…ï¼ˆä¿ç•™æ ¸å¿ƒåˆ†ç»„ + Fake-IP + 30ç§’æµ‹é€Ÿï¼‰======
; âœ… ä¿ç•™ï¼šå¸äº¤æ˜“æ‰€ / Xç”µæŠ¥DC / æ²¹ç®¡è§†é¢‘ / ææ³•å¸
; âœ… ç²¾ç®€ï¼šåˆå¹¶å†—ä½™åˆ†ç»„ã€ç»Ÿä¸€è‡ªåŠ¨é€‰æ‹©ã€å‡å°‘å±‚çº§
; ===============================================================

enable_rule_generator=true
overwrite_original_rules=true

; ====================== DNS è®¾ç½®ï¼ˆFake-IP é˜²æ³„æ¼ï¼‰======================
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - '*.lan'
    - 'stun.*'
    - 'time.*'
    - '*.apple.com'
    - '*.msftconnecttest.com'
    - '*.msftncsi.com'
    - '*.battlenet.com.cn'
    - '*.qq.com'
    - '*.weixin.qq.com'
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  nameserver:
    - https://1.1.1.1/dns-query
    - https://8.8.8.8/dns-query
    - https://223.5.5.5/dns-query
  fallback:
    - https://1.0.0.1/dns-query
    - https://9.9.9.9/dns-query

; --- ä¼˜å…ˆè§„åˆ™ ---
ruleset=ğŸ’° å¸äº¤æ˜“æ‰€,https://raw.githubusercontent.com/arb989822/bnok/refs/heads/main/BNOK.list
ruleset=ğŸ’¸ ææ³•å¸,https://raw.githubusercontent.com/arb989822/bnok/refs/heads/main/cex.list
ruleset=ğŸ›‘ å¹¿å‘Šæ‹¦æˆª,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
ruleset=ğŸƒ åº”ç”¨å‡€åŒ–,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list

; --- å¸¸è§„è§„åˆ™ ---
ruleset=ğŸ¯ å…¨çƒç›´è¿,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list
ruleset=ğŸ¯ å…¨çƒç›´è¿,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list
ruleset=ğŸ“¹ æ²¹ç®¡è§†é¢‘,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/YouTube.list
ruleset=ğŸ“² Xç”µæŠ¥DC,https://raw.githubusercontent.com/arb989822/demo/refs/heads/main/Telegram.list
ruleset=ğŸ“¢ è°·æ­ŒFCM,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleFCM.list
ruleset=ğŸ“¢ è°·æ­ŒğŸ‡¨ğŸ‡³,[]DOMAIN-SUFFIX,xn--ngstr-lra8j.com
ruleset=ğŸ“¢ è°·æ­ŒğŸ‡¨ğŸ‡³,[]DOMAIN-SUFFIX,services.googleapis.cn
ruleset=ğŸ“¢ è°·æ­ŒBlock,[]DOMAIN-SUFFIX,developer.android.google.cn
ruleset=ğŸ“¢ è°·æ­ŒğŸ‡¨ğŸ‡³,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleCNProxyIP.list
ruleset=ğŸ“¢ è°·æ­ŒğŸ‡¨ğŸ‡³,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleCN.list
ruleset=ğŸ“¢ è°·æ­Œ,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Google.list
ruleset=â“‚ï¸ å¾®è½¯Bing,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Bing.list
ruleset=â“‚ï¸ å¾®è½¯äº‘ç›˜,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/OneDrive.list
ruleset=â“‚ï¸ å¾®è½¯æœåŠ¡,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list
ruleset=ğŸ è‹¹æœæœåŠ¡,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list
ruleset=ğŸ’¬ OpenAi,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/OpenAi.list
ruleset=ğŸ® æ¸¸æˆå¹³å°,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Steam.list
ruleset=ğŸ¥ å¥ˆé£è§†é¢‘,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Netflix.list
ruleset=ğŸ“º å“”å“©å“”å“©,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bilibili.list
ruleset=ğŸŒ å›½å†…åª’ä½“,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaMedia.list
ruleset=ğŸŒ å›½å¤–åª’ä½“,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list
ruleset=ğŸ¯ å…¨çƒç›´è¿,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]GEOIP,CN
ruleset=ğŸŸ æ¼ç½‘ä¹‹é±¼,[]FINAL

; ================= æ ¸å¿ƒåˆ†ç»„ï¼ˆå®Œå…¨ä¿ç•™ï¼‰=================

custom_proxy_group=ğŸ’° å¸äº¤æ˜“æ‰€`url-test`(äº¤æ˜“)`http://www.gstatic.com/generate_204`30,,50
custom_proxy_group=ğŸ“² Xç”µæŠ¥DC`fallback`(ç¤¾äº¤|å¤‡ç”¨)`http://www.gstatic.com/generate_204`30,,50
custom_proxy_group=ğŸ“¹ æ²¹ç®¡è§†é¢‘`load-balance``round-robin`(æ²¹ç®¡)`http://www.gstatic.com/generate_204`300,50
custom_proxy_group=ğŸ’¸ ææ³•å¸`url-test`(æ³•å›½)`http://www.gstatic.com/generate_204`30,,50

; ================= ç²¾ç®€åˆ†ç»„ï¼ˆç»Ÿä¸€è‡ªåŠ¨é€‰æ‹©ï¼‰=================

custom_proxy_group=â™»ï¸ è‡ªåŠ¨é€‰æ‹©`url-test`(æ³•å›½|ç¾å›½|æ—¥æœ¬)`http://www.gstatic.com/generate_204`30,,50
custom_proxy_group=ğŸš€ èŠ‚ç‚¹é€‰æ‹©`select`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]DIRECT`.*

; --- è°·æ­Œç³»åˆ—ï¼ˆç»Ÿä¸€ï¼‰---
custom_proxy_group=ğŸ“¢ è°·æ­Œ`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*
custom_proxy_group=ğŸ“¢ è°·æ­ŒğŸ‡¨ğŸ‡³`select`[]ğŸ¯ å…¨çƒç›´è¿`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*
custom_proxy_group=ğŸ“¢ è°·æ­ŒFCM`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]ğŸ¯ å…¨çƒç›´è¿`.*
custom_proxy_group=ğŸ“¢ è°·æ­ŒBlock`select`[]ğŸ¯ å…¨çƒç›´è¿`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*

; --- å¾®è½¯ / è‹¹æœ / OpenAI / æ¸¸æˆ / å¥ˆé£ï¼ˆç»Ÿä¸€ç­–ç•¥ï¼‰---
custom_proxy_group=â“‚ï¸ å¾®è½¯æœåŠ¡`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ¯ å…¨çƒç›´è¿`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*
custom_proxy_group=ğŸ è‹¹æœæœåŠ¡`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ¯ å…¨çƒç›´è¿`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*
custom_proxy_group=ğŸ’¬ OpenAi`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ¯ å…¨çƒç›´è¿`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*
custom_proxy_group=ğŸ® æ¸¸æˆå¹³å°`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ¯ å…¨çƒç›´è¿`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*
custom_proxy_group=ğŸ¥ å¥ˆé£è§†é¢‘`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ¯ å…¨çƒç›´è¿`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*

; --- å›½å†…åª’ä½“ / å“”å“©å“”å“©ï¼ˆä¼˜å…ˆç›´è¿ï¼‰---
custom_proxy_group=ğŸ“º å“”å“©å“”å“©`select`[]ğŸ¯ å…¨çƒç›´è¿`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*
custom_proxy_group=ğŸŒ å›½å†…åª’ä½“`select`[]ğŸ¯ å…¨çƒç›´è¿`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`.*

; --- å›½å¤–åª’ä½“ ---
custom_proxy_group=ğŸŒ å›½å¤–åª’ä½“`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]ğŸ¯ å…¨çƒç›´è¿`.*

; --- åŸºç¡€åˆ†ç»„ ---
custom_proxy_group=ğŸ¯ å…¨çƒç›´è¿`select`[]DIRECT`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©
custom_proxy_group=ğŸ›‘ å¹¿å‘Šæ‹¦æˆª`select`[]REJECT`[]DIRECT
custom_proxy_group=ğŸƒ åº”ç”¨å‡€åŒ–`select`[]REJECT`[]DIRECT
custom_proxy_group=ğŸŸ æ¼ç½‘ä¹‹é±¼`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]ğŸ¯ å…¨çƒç›´è¿`.*
"""

# å†™å…¥æ–‡ä»¶
output_path_ini = "/mnt/data/nodnsleakjh91-ç²¾ç®€ä¼˜åŒ–ç‰ˆ.ini"
with open(output_path_ini, "w", encoding="utf-8") as f:
    f.write(optimized_ini_content.strip())

print(f"ç²¾ç®€ä¼˜åŒ–ç‰ˆå·²ä¿å­˜è‡³ï¼š{output_path_ini}")
